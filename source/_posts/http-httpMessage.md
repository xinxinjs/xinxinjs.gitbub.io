---
title: http报文
date: 2019-09-11 15:04:45
tags: http
---

## 请求报文、响应报文的结构

报文可以分为报文首部和报文主体两大部分，由最初出现的空行（CR+LF）来划分，报文主体不是必须有的

请求报文：请求行（请求方法，请求URI，协议版本）+ 可选的请求首部字段

响应报文： 状态行（协议版本，状态码，解释状态码的原因短语） + 可选的响应首部字段

首部字段一般有四种：通用首部，请求首部，响应首部，实体首部

## 编码提升转换率

http在传输数据的时候可以按照数据的原貌直接传输，也可以在传输过程中通过编码提升转换率

http报文主体用于传输请求或者响应的实体主体。通常报文主体等于实体主体，只有当传输中进行编码操作时，实体主体的内容发生变化，才导致它和报文主体产生差异

### 内容编码

http协议中的内容编码，能够对实体主体进行编码，并保证实体信息原样压缩，编码后的实体由客户端接收并负责解析

### 分块传输编码

对于大容量的数据，通过把数据分割成多块，让浏览器逐步显示页面

## 内容协商

客户端和服务器端就响应的资源内容进行交涉，然后提供给客户端最合适的资源，会以响应资源的语言，字符集，编码方式作为判断的基准

分为一下三种类型：

服务器驱动协商：以请求的首部字段作为参考，在服务器端自行处理

客户端驱动协商

透明协商
